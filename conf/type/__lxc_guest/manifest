function prepare() {
  #set -x
  if [ ! "$3" ]; then
    echo "We need a default value"
    exit 1
  fi

  if [ -f "$__object/parameter/$2" ]; then
    eval $1=`cat $__object/parameter/$2`
  else
    eval $1=$3
  fi 
  #set +x
}
require="__lxc_host"
if [ ! -f "$__object/parameter/guestname" ]; then
  echo "Please provide a name for your lxc guest"
  exit 1
else
  guestname="`cat $__object/parameter/guestname`"
fi
# add the machine to manifest
if [ `grep "$guestname" $__type/../../manifest/init` ]; then
  edit $__type/../../manifest/init << EOF
/esac
i
  $guestname)
  ;;
.
:x
EOF

# if roles are defined 
## add it's roles to manifest
# send its configuration
